<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="description" content="" />
    <title>Home | Luxury Travel Site</title>
    <link rel="stylesheet" href="./css/style.css" type="text/css" />
    <link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css" type="text/css" />
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400' rel='stylesheet' type='text/css'>
</head>
<body>
    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PQW9ZX"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script type="text/javascript">
        var dataLayer = [{
                'ecommerce': {
                    'currencyCode': 'EUR', // Local currency is optional.
                    'impressions': [{
                        'name': 'switzerland', // Name or ID is required.
                        'id': 'switzerland',
                        'list': 'Homepage banner list',
                        position: 1
                    }, {
                        'name': 'puertorico', // Name or ID is required.
                        'id': 'puertorico',
                        'list': 'Homepage banner list',
                        position: 2
                    }, {
                        'name': 'providence', // Name or ID is required.
                        'id': 'providence',
                        'list': 'Homepage banner list',
                        position: 3
                    }, {
                        'name': 'sanfrancisco', // Name or ID is required.
                        'id': 'sanfrancisco',
                        'list': 'Homepage banner list',
                        position: 4
                    }],
                    'promoView': {
                        'promotions': [{    // Array of promoFieldObjects.
                            'id': 'sanfrancisco',   // ID or Name is required.
                            'name': 'sanfrancisco',
                            'creative': 'street_photo1',
                            'position': 'carousel_slide_slot4'
                        }, {
                            'id': 'providence',
                            'name': 'providence',
                            'creative': 'wall_photo1',
                            'position': 'carousel_slide_slot3'
                        }, {
                            'id': 'puertorico',
                            'name': 'puertorico',
                            'creative': 'beach_photo1',
                            'position': 'carousel_slide_slot2'
                        }, {
                            'id': 'switzerland',
                            'name': 'switzerland',
                            'creative': 'church_photo1',
                            'position': 'carousel_slide_slot1'
                        }]
                    }
                }
            }];
        
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-PQW9ZX');
    </script>
    <!-- End Google Tag Manager -->
    <div class="navbar navbar-fixed-top">
        <div class="navbar-inner">
            <div class="container">
                <a class="brand" href="./">Luxury Travel Site</a>
                <ul class="nav">
                    <li class="active"><a href="./">Home</a></li>
                    <li><a href="./destinations.html">Destinations</a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="container" id="main">
        <div class="title">
            <h1>Luxury Travel Site</h1>
        </div>
        <p class="lead">The most luxurious way to travel the world.</p>
        <div class="row">
            <div id="myCarousel" class="carousel slide">
                <div class="carousel-inner">
                    <div class="active item"><a href="./destinations.html#switzerland" name="Switzerland" class="img-btn product-detail-link"><img src="./img/switzerland_huge.jpg" alt=""><div class="carousel-caption"><h4>Switzerland</h4><p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p></div></a></div>
                    <div class="item"><a href="./destinations.html#puertorico" name="PuertoRico" class="img-btn product-detail-link"><img src="./img/pr_huge.jpg" alt=""><div class="carousel-caption"><h4>Puerto Rico</h4><p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p></div></a></div>
                    <div class="item"><a href="./destinations.html#providence" name="Providence" class="img-btn product-detail-link"><img src="./img/prov_huge.jpg" alt=""><div class="carousel-caption"><h4>Providence</h4><p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p></div></a></div>
                    <div class="item"><a href="./destinations.html#sanfrancisco" name="SanFrancisco" class="img-btn product-detail-link"><img src="./img/sf_huge.jpg" alt=""><div class="carousel-caption"><h4>San Francisco</h4><p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p></div></a></div>
                </div>
                
                <a class="carousel-control left" href="#myCarousel" data-slide="prev" style="top:45% !important">&lsaquo;</a>
                <a class="carousel-control right" href="#myCarousel" data-slide="next" style="top:45% !important">&rsaquo;</a>
            </div>
        </div>
        <div class="text-center"><a href="./destinations.html" class="btn btn-primary btn-large"><h1>View Destinations</h1></a></div>
        <br />
        <div class="row">
            <div class="span4 text-center">
                <h3><i class="icon-home" style="vertical-align:middle"></i> Luxurious Accommodations</h3>
                Nunc ornare turpis eu nisi hendrerit a tempor felis ullamcorper. Integer turpis felis, consectetur quis congue tempus, porta vitae purus. Mauris condimentum orci et nunc tempor mollis.
            </div>
            <div class="span4 text-center">
                <h3><i class="icon-globe" style="vertical-align:middle"></i> Incredible Locations</h3>
                Nunc ornare turpis eu nisi hendrerit a tempor felis ullamcorper. Integer turpis felis, consectetur quis congue tempus, porta vitae purus. Mauris condimentum orci et nunc tempor mollis.
            </div>
            <div class="span4 text-center">
                <h3><i class="icon-tag" style="vertical-align:middle"></i> Unbeatable Pricing</h3>
                Nunc ornare turpis eu nisi hendrerit a tempor felis ullamcorper. Integer turpis felis, consectetur quis congue tempus, porta vitae purus. Mauris condimentum orci et nunc tempor mollis.
            </div>
        </div>
        <footer class="footer">
            <p class="pull-right"><a href="#">Back to top</a></p>
            <p>This is a demo site designed to showcase GTM.</p>
        </footer>
    </div>
    <script type="text/javascript" src="./js/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="./bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript">
    $(".product-detail-link").click(function (event) {
        var dest,
            position,
            currentItem;
        
        event.preventDefault();
        dest = event.currentTarget.name.toLowerCase();
        currentItem = $(event.currentTarget)[0].parent('item');
        position = currentItem.parent().children().index(currentItem) + 1;
        
        dataLayer.push({
            'event': 'productClick',
            'ecommerce': {
                'click': {
                    'actionField': {'list': 'Homepage banner list'},      // Optional list property.
                    'products': [{
                        'name': dest,         // Name or ID is required.
                        'id': dest,
                        'position': position
                    }]
                }
            },
            'hitCallback': function () {
                dataLayer.push({
                    'event': 'promotionClick',
                    'ecommerce': {
                        'promoClick': {
                            'promotions': [{
                                'id': dest,
                                'name': dest,
                                'position': position
                            }]
                        }
                    },
                    'hitCallback': function () {
                        window.location.href = $(".product-detail-link").attr("href");
                    }
                });
            }
        });
    });
    </script>
</body>
</html>